<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="styles.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Overwatch Region Control</title>
        <script type="module" src="/main.js" defer></script>
    </head>

    <body>
        <div class="app-container">
            <div class="hexagon-background"></div>

            <!-- Header -->
            <header>
                <div class="logo">
                    <svg
                        class="logo-svg"
                        viewBox="0 0 500 500"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <circle
                            cx="250"
                            cy="250"
                            r="210"
                            fill="none"
                            stroke="#FA9C1E"
                            stroke-width="50"
                        />
                        <path
                            d="M250 130 L350 220 L350 350 L250 420 L150 350 L150 220 Z"
                            fill="none"
                            stroke="#FA9C1E"
                            stroke-width="22"
                        />
                    </svg>
                    <h1>Overwatch VPN</h1>
                </div>
                <div class="status-container">
                    <div class="status-indicator">
                        <div class="status-dot"></div>
                        <span id="status-text">Initializing...</span>
                    </div>
                </div>
            </header>

            <main>
                <!-- Region Control Panel -->
                <section class="region-panel">
                    <div class="panel-header">
                        <h2>Region Selection</h2>
                    </div>

                    <div class="region-grid">
                        <div class="region-card" data-region="EU">
                            <div class="region-icon eu-icon"></div>
                            <div class="region-info">
                                <h3>Europe</h3>
                                <span class="region-status" id="eu-status"
                                    >Not Blocked</span
                                >
                            </div>
                            <label class="toggle">
                                <input
                                    type="checkbox"
                                    id="eu-toggle"
                                    data-region="EU"
                                />
                                <span class="slider"></span>
                            </label>
                        </div>

                        <div class="region-card" data-region="NA">
                            <div class="region-icon na-icon"></div>
                            <div class="region-info">
                                <h3>North America</h3>
                                <span class="region-status" id="na-status"
                                    >Not Blocked</span
                                >
                            </div>
                            <label class="toggle">
                                <input
                                    type="checkbox"
                                    id="na-toggle"
                                    data-region="NA"
                                />
                                <span class="slider"></span>
                            </label>
                        </div>

                        <div class="region-card" data-region="AS">
                            <div class="region-icon as-icon"></div>
                            <div class="region-info">
                                <h3>Asia</h3>
                                <span class="region-status" id="as-status"
                                    >Not Blocked</span
                                >
                            </div>
                            <label class="toggle">
                                <input
                                    type="checkbox"
                                    id="as-toggle"
                                    data-region="AS"
                                />
                                <span class="slider"></span>
                            </label>
                        </div>

                        <div class="region-card" data-region="OCE">
                            <div class="region-icon oce-icon"></div>
                            <div class="region-info">
                                <h3>Oceania</h3>
                                <span class="region-status" id="oce-status"
                                    >Not Blocked</span
                                >
                            </div>
                            <label class="toggle">
                                <input
                                    type="checkbox"
                                    id="oce-toggle"
                                    data-region="OCE"
                                />
                                <span class="slider"></span>
                            </label>
                        </div>

                        <div class="region-card" data-region="SA">
                            <div class="region-icon sa-icon"></div>
                            <div class="region-info">
                                <h3>South America</h3>
                                <span class="region-status" id="sa-status"
                                    >Not Blocked</span
                                >
                            </div>
                            <label class="toggle">
                                <input
                                    type="checkbox"
                                    id="sa-toggle"
                                    data-region="SA"
                                />
                                <span class="slider"></span>
                            </label>
                        </div>

                        <div class="region-card" data-region="ME">
                            <div class="region-icon me-icon"></div>
                            <div class="region-info">
                                <h3>Middle East</h3>
                                <span class="region-status" id="me-status"
                                    >Not Blocked</span
                                >
                            </div>
                            <label class="toggle">
                                <input
                                    type="checkbox"
                                    id="me-toggle"
                                    data-region="ME"
                                />
                                <span class="slider"></span>
                            </label>
                        </div>

                        <div class="region-card" data-region="AFR">
                            <div class="region-icon afr-icon"></div>
                            <div class="region-info">
                                <h3>Africa</h3>
                                <span class="region-status" id="afr-status"
                                    >Not Blocked</span
                                >
                            </div>
                            <label class="toggle">
                                <input
                                    type="checkbox"
                                    id="afr-toggle"
                                    data-region="AFR"
                                />
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button
                            id="refresh-btn"
                            class="action-button refresh-button"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24"
                                width="24"
                                height="24"
                            >
                                <path
                                    d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"
                                />
                            </svg>
                            Refresh Status
                        </button>
                        <button
                            id="unblock-all-btn"
                            class="action-button unblock-button"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24"
                                width="24"
                                height="24"
                            >
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"
                                />
                            </svg>
                            Unblock All Regions
                        </button>
                    </div>
                </section>

                <!-- Console Output Panel -->
                <section class="console-panel">
                    <div class="panel-header">
                        <h2>Console</h2>
                    </div>
                    <div class="console">
                        <pre id="console-output">
Initializing Overwatch VPN...</pre
                        >
                    </div>
                </section>

                <!-- Game Status Panel -->
                <section class="game-status-panel">
                    <div class="panel-header">
                        <h2>Game Status</h2>
                    </div>
                    <div class="game-status">
                        <div class="game-status-icon">
                            <svg
                                id="game-status-svg"
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24"
                                width="48"
                                height="48"
                            >
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
                                />
                            </svg>
                        </div>
                        <div class="game-status-text">
                            <h3 id="game-running-status">
                                Checking Overwatch status...
                            </h3>
                            <p id="game-status-message">
                                Please wait while we check if Overwatch is
                                running
                            </p>
                        </div>
                    </div>
                </section>
            </main>

            <!-- Modal for waiting state -->
            <div id="waiting-modal" class="waiting-modal">
                <div class="waiting-modal-content">
                    <div class="waiting-icon">
                        <div class="spinner"></div>
                    </div>
                    <h3>Waiting for Overwatch to close</h3>
                    <p>Please close Overwatch to continue...</p>
                </div>
            </div>

            <footer>
                <div class="app-info">
                    <p>
                        Overwatch VPN 2.0 &copy; 2025 |
                        <a href="#" id="show-info">About</a>
                    </p>
                </div>
            </footer>
        </div>

        <!-- Info Modal -->
        <div id="info-modal" class="modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2>About Overwatch VPN</h2>
                <div class="about-content">
                    <p>
                        Overwatch VPN helps you control which region servers you
                        connect to by selectively blocking IP addresses.
                    </p>

                    <h3>How to use:</h3>
                    <ol>
                        <li>
                            Toggle on the regions you want to avoid playing in
                        </li>
                        <li>Launch Overwatch and play with better ping!</li>
                    </ol>

                    <h3>Important notes:</h3>
                    <ul>
                        <li>
                            Blocking won't work if Overwatch is currently
                            running - you'll need to close it first
                        </li>
                        <li>
                            If Overwatch is running when you toggle a region,
                            we'll wait until it's closed
                        </li>
                        <li>
                            All blocks will be automatically removed when you
                            close this app
                        </li>
                    </ul>

                    <div class="tech-info">
                        <p>Licensed under GNU GPL v3</p>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
